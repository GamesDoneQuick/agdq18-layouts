<link rel="import" href="../../../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../../../shared/style/gdq-text-styles.html">
<link rel="import" href="gdq-omnibar-bid.html">
<link rel="import" href="gdq-omnibar-label.html">
<link rel="import" href="gdq-omnibar-prize.html">
<link rel="import" href="gdq-omnibar-record.html">
<link rel="import" href="gdq-omnibar-run.html">
<link rel="import" href="gdq-omnibar-total.html">
<link rel="import" href="gdq-omnibar-fireworks.html">

<dom-module id="gdq-omnibar">
	<template>
		<style include="gdq-text-styles">
			:host {
				display: flex;
				width: 1280px;
				height: 55px;
				background: url("img/background.png") repeat-x;
				background-position-y: 1px;
				color: white;
			}

			#gdqLogo,
			#fireworks {
				width: 109px;
				height: 100%;
			}

			#gdqLogo {
				margin-right: 3px;
				z-index: 3;
				overflow:hidden;
				background: url("img/logo-gdq.png") no-repeat;
				flex-shrink: 0;
				/*filter: brightness(0.75);*/
			}

			#fireworks {
				position: absolute;
				top: 0;
				left: 0;
				z-index: 4;
			}

			#body {
				display: flex;
				flex-grow: 1;
				height: 100%;
				overflow: hidden;
				position: relative;
			}

			#topBorder {
				position: absolute;
				top: 0;
				left: 0;
				height: 1px;
				width: 100%;
				background: black;
				z-index: 4;
			}

			#main {
				display: flex;
				flex-direction: column;
				justify-content: center;
				align-items: flex-start;
				line-height: 1;
				white-space: nowrap;
				z-index: 1;
				min-width: 1px; /* needed for fitMainText method */
				padding-top: 1px;
				@apply --layout-flex;
			}

			#main-content {
				height: 100%;
				min-width: 100%;
				will-change: transform;
				flex-grow: 1;
				flex-shrink: 0;
				@apply --layout-horizontal;
			}

			#main-content > * {
				margin: 0 1.5px;
			}

			#main-content > *:last-child {
				margin-right: 0;
			}

			#cta,
			#newRecord {
				position: absolute;
				top: 0;
				left: 0;
				display: flex;
				flex-direction: column;
				align-items: center;
				height: calc(100% - 1px);
				margin-top: 1px;
			}

			#cta {
				width: 100%;
				font-size: 31px;
				transform: translateY(100%);
			}

			#cta > div {
				line-height: 54px;
				flex-shrink: 0;
			}

			#newRecord {
				z-index: 100;
				box-sizing: border-box;
				width: calc(100% - 2px);
				visibility: hidden;
				@apply --layout-horizontal;
				@apply --layout-center-center;
			}

			#newRecord-bg,
			#newRecord-text {
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
			}

			#newRecord-bg {
				animation: hueRotate 2s linear infinite;
			}

			@keyframes hueRotate {
				from { filter: hue-rotate(0deg); }
				to { filter: hue-rotate(360deg); }
			}

			#newRecord-text {
				color: #ffffff;
				font-family: Montserrat, sans-serif;
				font-size: 30px;
				font-weight: 700;
				text-transform: uppercase;
				z-index: 4;
				text-align: center;
				@apply --layout-horizontal;
				@apply --layout-center-center;
			}

			#charityLogo {
				z-index: 1;
				@apply --layout-flex-none;
			}

			.highlight {
				color: #00d8ff;
			}
		</style>

		<div id="gdqLogo"></div>
		<!--<gdq-omnibar-fireworks id="fireworks"></gdq-omnibar-fireworks>-->
		<div id="body">
			<gdq-omnibar-label id="label"></gdq-omnibar-label>
			<div id="main">
				<div id="main-content"></div>
			</div>
			<div id="cta">
				<div class="shadow"><span class="highlight">#AGDQ2018</span> benefits the Prevent Cancer Foundation</div>
				<div class="shadow">Make your donation at <span class="highlight">GamesDoneQuick.com</span></div>
			</div>
			<div id="newRecord" class="shadow">
				<gdq-stepped-gradient
					id="newRecord-bg"
					steps="3"
					start-color="#e52a2a"
					end-color="#ad1616"></gdq-stepped-gradient>
				<div id="newRecord-text">NEW RECORD DONATION TOTAL FOR GDQ!</div>
			</div>
		</div>
		<gdq-omnibar-total id="total"></gdq-omnibar-total>
		<img id="charityLogo" src="[[importPath]]img/logo-charity.png">
		<div id="topBorder"></div>
	</template>

	<script src="gdq-omnibar.js"></script>
</dom-module>
