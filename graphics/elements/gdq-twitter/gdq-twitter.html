<link rel="import" href="../../../bower_components/iron-image/iron-image.html">
<link rel="import" href="../../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../../bower_components/shadycss/apply-shim.html">
<link rel="import" href="../../../shared/imports/textFit.html">
<link rel="import" href="../../../shared/style/gdq-text-styles.html">

<dom-module id="gdq-twitter">
	<template>
		<style include="gdq-text-styles">
			:host {
				position: absolute;
				display: flex;
				flex-direction: column;
				color: white;
				overflow: hidden;
				width: 100%;
				height: 100%;
				background: rgba(0,0,0,0.5);
				box-sizing: border-box;
				opacity: 0;
			}

			#bodyWrapper {
				display: flex;
				justify-content: center;
				align-items: center;
				flex-direction: column;
				padding: 0 16px 1em 16px;
				flex-grow: 1;
				@apply --gdq-twitter-body;
			}

			#body {
				font-weight: 400;
				letter-spacing: -0.025em;
				word-wrap: break-word;
				word-break: break-word;
				white-space: normal!important; /* this fixes tweets w/ hashtag first causing subsequent tweets to not wrap */
				text-align: center;
				flex-shrink: 1;
				min-height: 0;
				transform: rotate(0.01deg); /* fix janky anims */
			}

			#body > * {
				line-height: 1.2em;
			}

			#namebar {
				display: flex;
				align-items: center;
				background-color: #0075a1;
				box-shadow: inset -1px 0 0 0 #005676,
				            inset 0 1px 0 0 #3f97b8,
							4px 4px 0 0 rgba(0,0,0,0.33);
				box-sizing: border-box;
				border: 1px solid black;
				flex-shrink: 0;
				padding-right: 12px;
				white-space: nowrap;
				@apply --gdq-twitter-namebar;
			}

			#icon {
				position: relative;
				top: -6px;
				padding-left: 0.4em;
			}

			#username-wrapper {
				height: 100%;
				display: flex;
				align-items: center;
				min-width: 1px;
			}

			#username {
				padding-left: 3px;
				font-weight: 700;
				transform-origin: left;
				min-width: 1px;
				line-height: 0;
			}
		</style>

		<div id="bodyWrapper">
			<div id="body" class="shadow"></div>
		</div>
		<div id="namebar">
			<img id="icon" src="[[importPath]]img/twitter-logo.png">
			<div id="username-wrapper">
				<span id="username" class="shadow"></span>
			</div>
		</div>
	</template>

	<script src="gdq-twitter.js"></script>
</dom-module>
