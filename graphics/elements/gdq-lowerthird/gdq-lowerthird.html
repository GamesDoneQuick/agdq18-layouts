<link rel="import" href="../../../bower_components/polymer/lib/elements/dom-repeat.html">
<link rel="import" href="../../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../../shared/style/gdq-text-styles.html">

<dom-module id="gdq-lowerthird">
	<template>
		<style include="gdq-text-styles">
			:host {
				position: absolute;
				height: 0;
				bottom: -3px;
				left: 0;
				width: 100%;
				font-size: 31px;
			}

			#top,
			#bottom {
				display: flex;
				justify-content: space-around;
				align-items: baseline;
				background: url("img/border-tile.png") repeat-x;
				height: 9px;
				z-index: 2;
				position: relative;
			}

			#top {
				transform: scaleY(-1);
			}

			#bottom {
				-webkit-filter: drop-shadow(0 5px 0 rgba(0,0,0,0.25));
			}

			#names {
				display: flex;
				background-color: #0b2833;
				height: 0;
				font-weight: 400;
				align-items: center;
				z-index: 1;
				position: relative;
				overflow: hidden;
			}

			.name:last-child img {
				display: none;
			}

			.name-container {
				display: flex;
				justify-content: center;
				flex-grow: 1;
				flex-basis: 1px;
				min-width: 1px;
			}

			.name {
				text-transform: uppercase;
				text-align: center;
				transform-origin: center;
			}

			#dropdownContainer {
				position: absolute;
				top: 0;
				width: 100%;
				height: 100%;
				z-index: 0;
				overflow: hidden;
				display: flex;
				justify-content: center;
			}

			#dropdown {
				display: flex;
				text-align: center;
				height: 81px;
				-webkit-filter: drop-shadow(0 5px 0 rgba(0,0,0,0.25));
				font-size: 22px;
				transform: translateY(-100%);
			}

			#dropdown-middle {
				position: relative;
				display: flex;
				align-items: center;
				justify-content: center;
				margin: 0 -30px;
				margin-top: 5px;
			}

			#dropdown-middle-bg {
				position: absolute;
				width: calc(100% - 60px);
				height: 100%;
				left: 30px;
				top: 0;
				background: url("img/dropdown-middle.png") repeat-x;
				z-index: -1;
			}

			#dropdown-middle-text {
				margin-top: 11px;
				color: #6fcff5;
				text-shadow:
					-1px -1px 0 #000,
					1px -1px 0 #000,
					-1px 1px 0 #000,
					1px 1px 0 #000,
					0 0 16px #33809e;
				-webkit-filter: drop-shadow(0 2px 0 black);
			}

			/* state */
			:host([num-names="4"]) #names {
				font-size: 20px;
			}

			:host([num-names="3"]) #names {
				font-size: 26px;
			}
		</style>

		<div id="dropdownContainer">
			<div id="dropdown">
				<img src="[[importPath]]img/dropdown-left.png">
				<div id="dropdown-middle">
					<div id="dropdown-middle-bg"></div>
					<div id="dropdown-middle-text"></div>
				</div>
				<img src="[[importPath]]img/dropdown-right.png">
			</div>
		</div>

		<div id="top">
			<template is="dom-repeat" items="[[greebles]]">
				<img src="[[importPath]]img/border-deco.png">
			</template>
		</div>

		<div id="names">
			<template is="dom-repeat" items="[[names]]" as="name">
				<div class="name-container">
					<div class="name shadow">[[name]]</div>
				</div>
				<img src="[[importPath]]img/divider.png">
			</template>
		</div>

		<div id="bottom">
			<template is="dom-repeat" items="[[greebles]]">
				<img src="[[importPath]]img/border-deco.png">
			</template>
		</div>
	</template>

	<script src="gdq-lowerthird.js"></script>
</dom-module>
